
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>PyLOSt.ui.stitch_algorithms.util package &#8212; PyLOSt  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PyLOSt.util package" href="PyLOSt.util.html" />
    <link rel="prev" title="PyLOSt.ui.stitch_algorithms package" href="PyLOSt.ui.stitch_algorithms.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pylost-ui-stitch-algorithms-util-package">
<h1>PyLOSt.ui.stitch_algorithms.util package<a class="headerlink" href="#pylost-ui-stitch-algorithms-util-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift">
<span id="pylost-ui-stitch-algorithms-util-best-ellipse-parameters-finder-script-xshift-module"></span><h2>PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift module<a class="headerlink" href="#module-PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift" title="Permalink to this headline">¶</a></h2>
<p>Command line script
find the best X coordinates offset to theoretical ellipse
Fit q,theta on single line
Optimization based on slopes</p>
<dl class="simple">
<dt>data feed:</dt><dd><p>p and q in meter, theta in millirad
X coordinates in millimeter, slopes in urad, heights in um</p>
</dd>
</dl>
<p>returns p, q, theta, offset, new X coordinates, new slopes (meter, radian)</p>
<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.bestEllipseOtpimization">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">bestEllipseOtpimization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s_fit'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'q_theta'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'false'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fixed_offset'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_fixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#bestEllipseOtpimization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.bestEllipseOtpimization" title="Permalink to this definition">¶</a></dt>
<dd><p>Command Line Arguments are stored in list sys.argv</p>
<p>print(sys.argv)</p>
<p>argv[1] path to data (slopes in urad, heights in um)
argv[2] p in meter
argv[3] q in meter
argv[4] theta in mrad
argv[5] type of data (‘s_fit’, ‘h_fit’)
argv[6] parameters to optimize (‘q_theta’, ‘p_theta’, ‘p_q’, ‘p’, ‘q’, ‘theta’)
argv[7] find best offset (‘true’, ‘false’)
argv[8] best offset method (‘min_shift’, ‘min_best’, ‘min_tilt’, ‘min_q_theta’)
argv[9] best offset criteria (‘RMS’ , ‘PV’)
argv[10] offset fixed (value)</p>
<dl class="simple">
<dt>default parameters</dt><dd><p>mode=’s_fit’                              # ‘s_fit’, ‘h_fit’
optim=’q_theta’                           # ‘q_theta’, ‘p_theta’, ‘p_q’, ‘p’, ‘q’, ‘theta’, ‘tilt’
offset = ‘true’                           # ‘true’, ‘false’
offset_method =’fixed_offset’          # ‘min_dq_dtheta’, ‘fixed_p_q_theta’, ‘fixed_offset’, ‘min_tilt’, ‘min_shift’, ‘min_best’
offset_criteria = ‘PV’                    # ‘RMS’ , ‘PV’
offset_fixed = 0.0</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.fitBestEllipse_heights">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">fitBestEllipse_heights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'q_theta'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'false'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'residual_tilt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PV'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#fitBestEllipse_heights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.fitBestEllipse_heights" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.fitBestEllipse_slopes">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">fitBestEllipse_slopes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'q_theta'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'false'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'min_tilt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_fixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#fitBestEllipse_slopes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.fitBestEllipse_slopes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.hfit_curve">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">hfit_curve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'q_theta'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nopistilt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'false'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#hfit_curve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.hfit_curve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.hfit_curve_loop">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">hfit_curve_loop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#hfit_curve_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.hfit_curve_loop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.hfit_xoffset_loop">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">hfit_xoffset_loop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#hfit_xoffset_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.hfit_xoffset_loop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.hgt_equ_ellipse">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">hgt_equ_ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#hgt_equ_ellipse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.hgt_equ_ellipse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.null_slopes_at_centre">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">null_slopes_at_centre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#null_slopes_at_centre"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.null_slopes_at_centre" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.sfit_curve">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">sfit_curve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'q_theta'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notilt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'false'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#sfit_curve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.sfit_curve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.sfit_curve_loop">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">sfit_curve_loop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#sfit_curve_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.sfit_curve_loop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.sfit_xoffset_loop">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">sfit_xoffset_loop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_th</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_th</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_th</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#sfit_xoffset_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.sfit_xoffset_loop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.slp_equ_ellipse">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.</span></span><span class="sig-name descname"><span class="pre">slp_equ_ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/best_ellipse_parameters_finder_script_xshift.html#slp_equ_ellipse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.best_ellipse_parameters_finder_script_xshift.slp_equ_ellipse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse">
<span id="pylost-ui-stitch-algorithms-util-remove-best-ellipse-module"></span><h2>PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse module<a class="headerlink" href="#module-PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 6, 2018</p>
<ol class="arabic simple">
<li><p>Fit p,q,theta for all lines, avg them</p></li>
<li><p>Use p,q,theta of central line</p></li>
<li><p>Find p,q,theta to minimize total elliptical fit residual of all lines</p></li>
</ol>
<p>&#64;author: ADAPA</p>
<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.fitBestEllipse">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">fitBestEllipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#fitBestEllipse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.fitBestEllipse" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit best ellipse</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xc</strong> – </p></li>
<li><p><strong>sx</strong> – </p></li>
<li><p><strong>z</strong> – </p></li>
<li><p><strong>p</strong> – </p></li>
<li><p><strong>q</strong> – </p></li>
<li><p><strong>theta</strong> – </p></li>
<li><p><strong>mode</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.getMirSpecificData">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">getMirSpecificData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mirType</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#getMirSpecificData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.getMirSpecificData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.hgtToSlp1D">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">hgtToSlp1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grad'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#hgtToSlp1D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.hgtToSlp1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Height to slope (1D)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – Mirror positions along X</p></li>
<li><p><strong>d</strong> – Height</p></li>
<li><p><strong>diffType</strong> – Derivative type e.g. gradient</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.remEllipseData">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">remEllipseData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixSize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useGravityCor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizeType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h_fit'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#remEllipseData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.remEllipseData" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove best ellipse from 2D slopes/height</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Slope/height data</p></li>
<li><p><strong>mirType</strong> – Saved mirror type</p></li>
<li><p><strong>p</strong> – Distance from source</p></li>
<li><p><strong>q</strong> – Distance to sample</p></li>
<li><p><strong>theta</strong> – Beam angle</p></li>
<li><p><strong>pixSize</strong> – Pixel size</p></li>
<li><p><strong>mask</strong> – Mask of input data</p></li>
<li><p><strong>useGravityCor</strong> – Correct for gravity flag</p></li>
<li><p><strong>dataType</strong> – Data type slope/height</p></li>
<li><p><strong>optimizeType</strong> – Optimize for best ellipse in slopes or height</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary of ellipse params (p,q,theta) and residuals</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.remEllipseLine">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">remEllipseLine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixSize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useGravityCor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizeType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h_fit'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#remEllipseLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.remEllipseLine" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.rotHght">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">rotHght</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#rotHght"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.rotHght" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate height to center at array index idx</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – Mirror positions along X</p></li>
<li><p><strong>z</strong> – Height data</p></li>
<li><p><strong>idx</strong> – Index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotated height</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.sfit_fn">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">sfit_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#sfit_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.sfit_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Slope fit function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xp</strong> – </p></li>
<li><p><strong>q</strong> – </p></li>
<li><p><strong>theta</strong> – </p></li>
<li><p><strong>tilt</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.slpToHgt1D">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">slpToHgt1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cumtrapz'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#slpToHgt1D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.slpToHgt1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate slope to height (1D)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – Mirror positions along X</p></li>
<li><p><strong>d</strong> – slopes</p></li>
<li><p><strong>intType</strong> – Integration method e.g. cumtrapz</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.zfit_fn">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.</span></span><span class="sig-name descname"><span class="pre">zfit_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/remove_best_ellipse.html#zfit_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.remove_best_ellipse.zfit_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Height fit function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xp</strong> – </p></li>
<li><p><strong>q</strong> – </p></li>
<li><p><strong>theta</strong> – </p></li>
<li><p><strong>tilt</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PyLOSt.ui.stitch_algorithms.util.slp2hgt">
<span id="pylost-ui-stitch-algorithms-util-slp2hgt-module"></span><h2>PyLOSt.ui.stitch_algorithms.util.slp2hgt module<a class="headerlink" href="#module-PyLOSt.ui.stitch_algorithms.util.slp2hgt" title="Permalink to this headline">¶</a></h2>
<p>Created on Jan 23, 2019</p>
<p>2D slopes to height integration algorithms</p>
<p>&#64;author: ADAPA</p>
<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.slp2hgt.slp2hgt">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.slp2hgt.</span></span><span class="sig-name descname"><span class="pre">slp2hgt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_sz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/slp2hgt.html#slp2hgt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.slp2hgt.slp2hgt" title="Permalink to this definition">¶</a></dt>
<dd><p>2D slope to height function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slx</strong> – Slopes X</p></li>
<li><p><strong>sly</strong> – Slopes Y</p></li>
<li><p><strong>pix_sz</strong> – Pixel size</p></li>
<li><p><strong>method</strong> – Integration method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Height</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PyLOSt.ui.stitch_algorithms.util.util_fast">
<span id="pylost-ui-stitch-algorithms-util-util-fast-module"></span><h2>PyLOSt.ui.stitch_algorithms.util.util_fast module<a class="headerlink" href="#module-PyLOSt.ui.stitch_algorithms.util.util_fast" title="Permalink to this headline">¶</a></h2>
<p>Created on Mar 9, 2019</p>
<p>Util functions used in fast stitching algorithms</p>
<p>&#64;author: ADAPA</p>
<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_fast.buildOverlapMatricesFast">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_fast.</span></span><span class="sig-name descname"><span class="pre">buildOverlapMatricesFast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oXArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_szY</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_szX</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">otype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitData</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">degRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'legendre'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startDegRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showPlots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_fast.html#buildOverlapMatricesFast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_fast.buildOverlapMatricesFast" title="Permalink to this definition">¶</a></dt>
<dd><p>Build overlap errors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – Stitching function reference object</p></li>
<li><p><strong>oXArr</strong> – Translation offset array</p></li>
<li><p><strong>pat_arr</strong> – Subaperture array</p></li>
<li><p><strong>mask_arr</strong> – Mask array of subapertures</p></li>
<li><p><strong>res_szY</strong> – Stitching result size Y</p></li>
<li><p><strong>res_szX</strong> – Stitching result size X</p></li>
<li><p><strong>otype</strong> – Data type slope/height</p></li>
<li><p><strong>fitData</strong> – Flag to fit plane to overlap</p></li>
<li><p><strong>extractRef</strong> – Flag to retrieve reference from fitting polynomial</p></li>
<li><p><strong>degRef</strong> – Polynomial degree to use for extracting reference from fitting</p></li>
<li><p><strong>refType</strong> – Reference fit type e.g. fit to legendre</p></li>
<li><p><strong>startDegRef</strong> – Start degree for reference. Usually degree&lt;2 are excluded as theses reference orders cannot be extracted from measured data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>IndexMatrix, overlaps matrix, overalap errors pitch/roll/piston, max overlap count, valid overlaps, valid subapertures, subaperture array, maximum overlap order, piston array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_fast.diff_k_sp">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_fast.</span></span><span class="sig-name descname"><span class="pre">diff_k_sp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typ</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spdiag'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oxArr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_shft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_fast.html#diff_k_sp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_fast.diff_k_sp" title="Permalink to this definition">¶</a></dt>
<dd><p>k-th order difference in an ndarray i.e.difference between i,i+k elements</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – slope/height data array</p></li>
<li><p><strong>n</strong> – difference order</p></li>
<li><p><strong>typ</strong> – type of data</p></li>
<li><p><strong>oxArr</strong> – Translation offset array</p></li>
<li><p><strong>a_shft</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>nth order difference array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_fast.filtBadPixels">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_fast.</span></span><span class="sig-name descname"><span class="pre">filtBadPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sarr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_sz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_fast.html#filtBadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_fast.filtBadPixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter pixels above n-std from global shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – Stitching function reference object</p></li>
<li><p><strong>sarr</strong> – Input data</p></li>
<li><p><strong>pix_sz</strong> – Pixel size</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filter mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_fast.getOvParams">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_fast.</span></span><span class="sig-name descname"><span class="pre">getOvParams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sarr_diff_k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oXArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xx_mir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yy_mir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">szM</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_fast.html#getOvParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_fast.getOvParams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PyLOSt.ui.stitch_algorithms.util.util_stitching">
<span id="pylost-ui-stitch-algorithms-util-util-stitching-module"></span><h2>PyLOSt.ui.stitch_algorithms.util.util_stitching module<a class="headerlink" href="#module-PyLOSt.ui.stitch_algorithms.util.util_stitching" title="Permalink to this headline">¶</a></h2>
<p>Created on Jul 27, 2018</p>
<p>Util functions used in stitching algorithms</p>
<p>&#64;author: adapa</p>
<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.addAppliedStageTilt">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">addAppliedStageTilt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_sy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrScale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5si</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5fi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#addAppliedStageTilt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.addAppliedStageTilt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.addAttributesStitchedScans">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">addAttributesStitchedScans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5si</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5fi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isSlopeStitch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subRefFlag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravitySubFlag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#addAttributesStitchedScans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.addAttributesStitchedScans" title="Permalink to this definition">¶</a></dt>
<dd><p>Add additional attributes to stitched scans</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5si</strong> – Subaperture data object</p></li>
<li><p><strong>h5fi</strong> – Stitched data object</p></li>
<li><p><strong>isSlopeStitch</strong> – Slope or height flag</p></li>
<li><p><strong>subRefFlag</strong> – Subtract reference flag</p></li>
<li><p><strong>gravitySubFlag</strong> – Subtract gravity flag</p></li>
<li><p><strong>pix_size</strong> – Pixel size</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.applyExternalMask">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">applyExternalMask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extMask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#applyExternalMask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.applyExternalMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply external mask to current mask</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> – Current mask</p></li>
<li><p><strong>extMask</strong> – External mask</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Final mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.avgStitchedScans">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">avgStitchedScans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5stitched</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isSlopeStitch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mXArr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quser</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tot_scan_cnt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#avgStitchedScans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.avgStitchedScans" title="Permalink to this definition">¶</a></dt>
<dd><p>Average stitched scans</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5stitched</strong> – Stitched data group in H5</p></li>
<li><p><strong>isSlopeStitch</strong> – Flag slope or height</p></li>
<li><p><strong>mXArr</strong> – Translation offset array</p></li>
<li><p><strong>quser</strong> – user selected scans string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.buildOverlapMatrices">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">buildOverlapMatrices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oXArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_szY</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_szX</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">otype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitData</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">degRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'legendre'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startDegRef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#buildOverlapMatrices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.buildOverlapMatrices" title="Permalink to this definition">¶</a></dt>
<dd><p>Build overlap errors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – Stitching function reference object</p></li>
<li><p><strong>oXArr</strong> – Translation offset array</p></li>
<li><p><strong>pat_arr</strong> – Subaperture array</p></li>
<li><p><strong>mask_arr</strong> – Mask array of subapertures</p></li>
<li><p><strong>res_szY</strong> – Stitching result size Y</p></li>
<li><p><strong>res_szX</strong> – Stitching result size X</p></li>
<li><p><strong>otype</strong> – Data type slope/height</p></li>
<li><p><strong>fitData</strong> – Flag to fit plane to overlap</p></li>
<li><p><strong>extractRef</strong> – Flag to retrieve reference from fitting polynomial</p></li>
<li><p><strong>degRef</strong> – Polynomial degree to use for extracting reference from fitting</p></li>
<li><p><strong>refType</strong> – Reference fit type e.g. fit to legendre</p></li>
<li><p><strong>startDegRef</strong> – Start degree for reference. Usually degree&lt;2 are excluded as theses reference orders cannot be extracted from measured data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>IndexMatrix, overlaps matrix, overalap errors pitch/roll/piston, max overlap count, valid overlaps, valid subapertures, subaperture array, maximum overlap order, piston array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.calcMatrixInv">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">calcMatrixInv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validPat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SVD'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#calcMatrixInv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.calcMatrixInv" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate inverse of IndexMatrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A</strong> – IndexMatrix</p></li>
<li><p><strong>validPat</strong> – Valid subapertures</p></li>
<li><p><strong>method</strong> – Inversion method e.g.SVD inverse</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Inverse IndexMatrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.correctRefFromMeasuredData_height">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">correctRefFromMeasuredData_height</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5fi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#correctRefFromMeasuredData_height"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.correctRefFromMeasuredData_height" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.correctRefFromMeasuredData_slp">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">correctRefFromMeasuredData_slp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slxArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slyArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5fi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#correctRefFromMeasuredData_slp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.correctRefFromMeasuredData_slp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.diff_k">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">diff_k</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#diff_k"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.diff_k" title="Permalink to this definition">¶</a></dt>
<dd><p>n-th order difference of an array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – Data</p></li>
<li><p><strong>n</strong> – difference degree</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.filterScansByStd">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">filterScansByStd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5ss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isSlopeStitch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#filterScansByStd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.filterScansByStd" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter stitched scans above 2 std</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5ss</strong> – Stitched scans h5 object</p></li>
<li><p><strong>isSlopeStitch</strong> – Flag slopes of height</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filter mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.getFwdScanCount">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">getFwdScanCount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5ss</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#getFwdScanCount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.getFwdScanCount" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.getStd">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">getStd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5stitched</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isSlopeStitch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_sz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#getStd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.getStd" title="Permalink to this definition">¶</a></dt>
<dd><p>Get standard deviation of stitched scans</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5stitched</strong> – Stitched data group in H5</p></li>
<li><p><strong>isSlopeStitch</strong> – Flag slope or height</p></li>
<li><p><strong>pix_sz</strong> – Pixel size</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.gravity_correction">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">gravity_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2340.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">130000000000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#gravity_correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.gravity_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct gavity for a simple setup with two cylindes symmetrically supporing mirror seperated by half mirror length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – mirror x positions in mm</p></li>
<li><p><strong>t</strong> – thickness of mirror</p></li>
<li><p><strong>L</strong> – length of mirror</p></li>
<li><p><strong>d</strong> – seperation between cylinders, usually L/2</p></li>
<li><p><strong>p</strong> – for si 2340</p></li>
<li><p><strong>E</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gravity correction vector in mrad</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.pad_along_axis">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">pad_along_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#pad_along_axis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.pad_along_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.parseQUser">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">parseQUser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#parseQUser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.parseQUser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.planeFit2D">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">planeFit2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'LS'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#planeFit2D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.planeFit2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a plane to 2D data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Z</strong> – Input data</p></li>
<li><p><strong>pix_size</strong> – Pixel size</p></li>
<li><p><strong>mask</strong> – Data mask</p></li>
<li><p><strong>method</strong> – Fitting method e.g. least squares</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Fit coefficients</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.preprocessHgt">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">preprocessHgt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outH5Obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isSave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showPlots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbExclEdges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#preprocessHgt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.preprocessHgt" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre processing of height data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>typ</strong> – Type of preprocess, e.g. apply threshold, reference from measured data average etc…</p></li>
<li><p><strong>hArr</strong> – Height array</p></li>
<li><p><strong>args</strong> – Min/max threshold slope</p></li>
<li><p><strong>pix_size</strong> – Pixel size</p></li>
<li><p><strong>mask</strong> – Mask of data</p></li>
<li><p><strong>outH5Obj</strong> – H5 object where the reference is saved</p></li>
<li><p><strong>isSave</strong> – Save flag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Corrected height array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.preprocessSlp">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">preprocessSlp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slxArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slyArr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outH5Obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isSave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showPlots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbExclEdges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#preprocessSlp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.preprocessSlp" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre processing of slopes data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>typ</strong> – Type of preprocess, e.g. apply threshold, reference from measured data average etc…</p></li>
<li><p><strong>slxArr</strong> – Slopes X array</p></li>
<li><p><strong>slyArr</strong> – Slopes Y array</p></li>
<li><p><strong>args</strong> – Min/max threshold slope</p></li>
<li><p><strong>pix_size</strong> – Pixel size</p></li>
<li><p><strong>mask</strong> – Mask of data</p></li>
<li><p><strong>outH5Obj</strong> – H5 object where the reference is saved</p></li>
<li><p><strong>isSave</strong> – Save flag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Corrected slope arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.rawScanAvg">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">rawScanAvg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5scans</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#rawScanAvg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.rawScanAvg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.rolling_sum">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">rolling_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#rolling_sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.rolling_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolling sum of data
:param a: Data
:param n: Degree
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PyLOSt.ui.stitch_algorithms.util.util_stitching.subCalRefSlp">
<span class="sig-prename descclassname"><span class="pre">PyLOSt.ui.stitch_algorithms.util.util_stitching.</span></span><span class="sig-name descname"><span class="pre">subCalRefSlp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_sy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrScale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5fi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PyLOSt/ui/stitch_algorithms/util/util_stitching.html#subCalRefSlp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PyLOSt.ui.stitch_algorithms.util.util_stitching.subCalRefSlp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PyLOSt.ui.stitch_algorithms.util">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-PyLOSt.ui.stitch_algorithms.util" title="Permalink to this headline">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyLOSt</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="PyLOSt.html">PyLOSt package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="PyLOSt.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="PyLOSt.algorithms.html">PyLOSt.algorithms package</a></li>
<li class="toctree-l3"><a class="reference internal" href="PyLOSt.data_in.html">PyLOSt.data_in package</a></li>
<li class="toctree-l3"><a class="reference internal" href="PyLOSt.databases.html">PyLOSt.databases package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="PyLOSt.ui.html">PyLOSt.ui package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="PyLOSt.ui.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyLOSt.ui.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyLOSt.ui.html#module-PyLOSt.ui.hdf5widget_custom">PyLOSt.ui.hdf5widget_custom module</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyLOSt.ui.html#module-PyLOSt.ui">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="PyLOSt.util.html">PyLOSt.util package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="PyLOSt.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="PyLOSt.html#module-PyLOSt.SG_gui">PyLOSt.SG_gui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="PyLOSt.html#module-PyLOSt.default_rc">PyLOSt.default_rc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="PyLOSt.html#module-PyLOSt">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quick_guide.html">Quick Guide</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="PyLOSt.html">PyLOSt package</a><ul>
  <li><a href="PyLOSt.ui.html">PyLOSt.ui package</a><ul>
  <li><a href="PyLOSt.ui.stitch_algorithms.html">PyLOSt.ui.stitch_algorithms package</a><ul>
      <li>Previous: <a href="PyLOSt.ui.stitch_algorithms.html" title="previous chapter">PyLOSt.ui.stitch_algorithms package</a></li>
      <li>Next: <a href="PyLOSt.util.html" title="next chapter">PyLOSt.util package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/PyLOSt.ui.stitch_algorithms.util.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>